addons:
    apt:
        sources:
            - devian-sid
        packages:
            - binutils-dev
            - libasound2-dev
            - libunwind8-dev
            - libxxf86vm-dev
            - libxinerama-dev
            - libxinerama1
            - libxcursor-dev
            - libxcursor1
            - libglfw-dev
            - libosmesa6-dev
            - libxi-dev
            - libxrandr-dev
            - g++
sudo: false
before_script:
    - rustup component add rustfmt --toolchain nightly-x86_64-unknown-linux-gnu
language: rust
rust:
    - nightly
cache:
    directories:
    - $HOME/.cargo
before-cache:
    - rm -rf $HOME/.cargo/registry
script:
  - export PATH="$PATH:/usr/bin"
  - travis_wait 50 ./scripts/run-all --filter 'run-vulkan-validation|run-all-benchmarks|run-fuzzing-tests|crates/vxdraw'
